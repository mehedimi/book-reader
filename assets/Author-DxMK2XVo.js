import{b as p,l as g,u as h,_ as x,a as v}from"./useHttp-Cd46308I.js";import{d as _,c as d,F as b,r as k,b as y,o as r,e as C,w as V,n as w,u as i,f as l,t as u,g as m,h as B,a as c}from"./index-CGetryrB.js";const L={class:"grid grid-cols-2 gap-5 my-8"},$={class:"flex justify-between items-center"},T={class:"text-4xl font-bold"},A={class:"text-gray-500 mt-6"},E=_({__name:"TaxonomyList",props:{taxonomies:{},singleRoute:{}},setup(t){return(e,a)=>{const o=y("router-link");return r(),d("div",L,[(r(!0),d(b,null,k(e.taxonomies,s=>(r(),C(o,{class:w(["bg-gradient-to-bl p-5 rounded-2xl text-gray-600",i(p)[s.id%i(p).length]]),to:{name:e.singleRoute,params:{id:s.id}}},{default:V(()=>[l("div",$,[l("h2",T,u(s.name[0]),1),l("span",null,"("+u(s.count)+")",1)]),l("p",A,u(s.name),1)]),_:2},1032,["class","to"]))),256))])}}});function F(t){const e=m(!1),a=m([]),o=h();function s(){e.value=!0,o.get(`/${t.type}`,{params:{s:t.s.value}}).then(({data:{data:n}})=>{a.value=n}).finally(()=>{e.value=!1})}return s(),B(t.s,g.debounce(()=>{s()},500)),{isLoading:e,items:a}}const S=_({__name:"Author",setup(t){const e=m(""),{isLoading:a,items:o}=F({type:"authors",s:e});return(s,n)=>(r(),d("div",null,[c(v,{title:"Authors"}),c(x,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=f=>e.value=f),placeholder:"Search authors...","is-loading":i(a)},null,8,["modelValue","is-loading"]),c(E,{taxonomies:i(o),"single-route":"author.book"},null,8,["taxonomies"])]))}});export{S as default};
